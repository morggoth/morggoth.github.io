<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Common #  Generate password #  $ openssl rand -base64 14 $ gpg --gen-random --armor 1 14 $ cat /dev/urandom | tr -dc a-zA-Z0-9 | fold -w 14 | head -n 1 Generate missed pub key from private #  $ ssh-keygen -y -f ~/.ssh/id_rsa > ~/.ssh/id_rsa.pub Create a large file #   Linux & all filesystems  xfs_mkfile 10240m 10Gigfile  Linux & and some filesystems (ext4, xfs, btrfs and ocfs2)  fallocate -l 10G 10Gigfile  OS X, Solaris, SunOS and probably other UNIXes  mkfile 10240m 10Gigfile Source"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Tips & Tricks"><meta property="og:description" content="Common #  Generate password #  $ openssl rand -base64 14 $ gpg --gen-random --armor 1 14 $ cat /dev/urandom | tr -dc a-zA-Z0-9 | fold -w 14 | head -n 1 Generate missed pub key from private #  $ ssh-keygen -y -f ~/.ssh/id_rsa > ~/.ssh/id_rsa.pub Create a large file #   Linux & all filesystems  xfs_mkfile 10240m 10Gigfile  Linux & and some filesystems (ext4, xfs, btrfs and ocfs2)  fallocate -l 10G 10Gigfile  OS X, Solaris, SunOS and probably other UNIXes  mkfile 10240m 10Gigfile Source"><meta property="og:type" content="article"><meta property="og:url" content="https://morggoth.github.io/docs/misc/tips_and_tricks/"><meta property="article:published_time" content="2019-12-12T00:45:53+03:00"><meta property="article:modified_time" content="2019-12-12T00:45:53+03:00"><title>Tips & Tricks | Morggoth's wiki</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.d98db4dbff9404c151a32027cd777649459e4b3f3956d2bc6e29c728b698d666.js integrity="sha256-2Y202/+UBMFRoyAnzXd2SUWeSz85VtK8binHKLaY1mY="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>Morggoth's wiki</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/k8s/ class=collapsed>Kubernetes</a></li><li><a href=/docs/mooc/ class=collapsed>Courses notes</a></li><li><a href=/docs/cloud/ class=collapsed>Cloud</a></li><li><a href=/docs/misc/docker/>Основы Docker</a></li><li><a href=/docs/misc/cheatsheets/>Cheatsheets</a></li><li><a href=/docs/misc/rpi/>Raspberry Pi</a></li><li><a href=/docs/misc/kafka/>Kafka basics</a></li><li><a href=/docs/misc/old_hardware/>Old hardware</a></li><li><a href=/docs/languages/ class=collapsed>Languages</a></li><li><a href=/docs/misc/chromeos/>ChromeOS</a></li><li><a href=/docs/misc/macos/>macOS</a></li><li><a href=/docs/misc/mikrotik/>Mikrotik</a></li><li><a href=/docs/misc/tips_and_tricks/ class=active>Tips & Tricks</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Tips & Tricks</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#common>Common</a><ul><li><a href=#generate-password>Generate password</a></li><li><a href=#generate-missed-pub-key-from-private>Generate missed pub key from private</a></li><li><a href=#create-a-large-file>Create a large file</a></li><li><a href=#date-and-time-transformations>Date and time transformations</a></li></ul></li><li><a href=#mysql>MySQL</a><ul><li><a href=#change-user-pass>Change user pass</a></li><li><a href=#granting-user-connections-from-remote-hosts>Granting User Connections From Remote Hosts:</a></li></ul></li><li><a href=#git>Git</a><ul><li><a href=#empty-commit>Empty commit</a></li><li><a href=#rename-local-branch>Rename local branch</a></li><li><a href=#copy-file-from-other-branch>Copy file from other branch</a></li></ul></li><li><a href=#tmux>Tmux</a></li><li><a href=#windows-cmd>Windows cmd</a><ul><li><a href=#wsl>WSL</a></li></ul></li><li><a href=#k8s>K8S</a><ul><li><a href=#merge-multiple-kubectl-configs-into-a-single-file>Merge multiple kubectl configs into a single file</a></li></ul></li></ul></nav></aside></header><article class=markdown><h2 id=common>Common
<a class=anchor href=#common>#</a></h2><h3 id=generate-password>Generate password
<a class=anchor href=#generate-password>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ openssl rand -base64 <span style=color:#ae81ff>14</span>
$ gpg --gen-random --armor <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>14</span>
$ cat /dev/urandom | tr -dc a-zA-Z0-9 | fold -w <span style=color:#ae81ff>14</span> | head -n <span style=color:#ae81ff>1</span>
</code></pre></div><h3 id=generate-missed-pub-key-from-private>Generate missed pub key from private
<a class=anchor href=#generate-missed-pub-key-from-private>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ssh-keygen -y -f ~/.ssh/id_rsa &gt; ~/.ssh/id_rsa.pub
</code></pre></div><h3 id=create-a-large-file>Create a large file
<a class=anchor href=#create-a-large-file>#</a></h3><ul><li>Linux & all filesystems</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>xfs_mkfile 10240m 10Gigfile
</code></pre></div><ul><li>Linux & and some filesystems (ext4, xfs, btrfs and ocfs2)</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>fallocate -l 10G 10Gigfile
</code></pre></div><ul><li>OS X, Solaris, SunOS and probably other UNIXes</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mkfile 10240m 10Gigfile
</code></pre></div><p><a href=https://stackoverflow.com/a/257849>Source</a></p><h3 id=date-and-time-transformations>Date and time transformations
<a class=anchor href=#date-and-time-transformations>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># GNU date</span>
timestamp -&gt; human-readable
date -d @1339471282

human-readable -&gt; timestamp
date --date<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Tue 21 Jul 2020 03:56:50 PM MS&#34;</span> +<span style=color:#e6db74>&#34;%s&#34;</span>

<span style=color:#75715e># BSD date</span>
timestamp -&gt; human-readable
date -r <span style=color:#ae81ff>1282368345</span>

human-readable -&gt; timestamp
date -j -f <span style=color:#e6db74>&#34;%Y-%m-%d %H:%M:%S&#34;</span> <span style=color:#e6db74>&#34;2018-01-30 15:58:50&#34;</span> <span style=color:#e6db74>&#34;+%s&#34;</span>
</code></pre></div><h2 id=mysql>MySQL
<a class=anchor href=#mysql>#</a></h2><h3 id=change-user-pass>Change user pass
<a class=anchor href=#change-user-pass>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>USER</span> <span style=color:#e6db74>&#39;user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;localhost&#39;</span> IDENTIFIED <span style=color:#66d9ef>BY</span> <span style=color:#e6db74>&#39;NEW_USER_PASSWORD&#39;</span>;
FLUSH <span style=color:#66d9ef>PRIVILEGES</span>;
</code></pre></div><h3 id=granting-user-connections-from-remote-hosts>Granting User Connections From Remote Hosts:
<a class=anchor href=#granting-user-connections-from-remote-hosts>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>ALL</span> <span style=color:#66d9ef>PRIVILEGES</span> <span style=color:#66d9ef>ON</span> <span style=color:#f92672>*</span>.<span style=color:#f92672>*</span> <span style=color:#66d9ef>TO</span> <span style=color:#e6db74>&#39;user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;host&#39;</span> IDENTIFIED <span style=color:#66d9ef>BY</span> <span style=color:#e6db74>&#39;my-new-password&#39;</span> <span style=color:#66d9ef>WITH</span> <span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>OPTION</span>;
</code></pre></div><h2 id=git>Git
<a class=anchor href=#git>#</a></h2><h3 id=empty-commit>Empty commit
<a class=anchor href=#empty-commit>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git commit --allow-empty -m <span style=color:#e6db74>&#34;Empty commit message&#34;</span>
</code></pre></div><h3 id=rename-local-branch>Rename local branch
<a class=anchor href=#rename-local-branch>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout <span style=color:#e6db74>${</span>TARGET_BRANCH<span style=color:#e6db74>}</span>
git branch -m <span style=color:#e6db74>${</span>NEW_BEANCH_NAME<span style=color:#e6db74>}</span>
</code></pre></div><h3 id=copy-file-from-other-branch>Copy file from other branch
<a class=anchor href=#copy-file-from-other-branch>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git checkout <span style=color:#e6db74>${</span>SOURCE_BRANCH<span style=color:#e6db74>}</span> /path/to/file
</code></pre></div><h2 id=tmux>Tmux
<a class=anchor href=#tmux>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>:setw synchronize-panes
</code></pre></div><h2 id=windows-cmd>Windows cmd
<a class=anchor href=#windows-cmd>#</a></h2><p>reg - regestery managging tool</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmd data-lang=cmd>reg query HKEY_LOCAL_MACHINE  # shows all keys in selected branch
</code></pre></div><p>wevtutil - shows Windiows logs</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmd data-lang=cmd>wevtutil el  # shows all available logs
wevtutil qe ${LOG_NAME} # shows events from selected log

</code></pre></div><p>systeminfo - provides software and hardware information</p><h3 id=wsl>WSL
<a class=anchor href=#wsl>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmd data-lang=cmd>wsl -l -all                         # List of all available distros
wsl -s ${distro_name}               # Set a distro as default
wsl --unregister ${distro_name}     # Delete distro
</code></pre></div><h2 id=k8s>K8S
<a class=anchor href=#k8s>#</a></h2><h3 id=merge-multiple-kubectl-configs-into-a-single-file>Merge multiple kubectl configs into a single file
<a class=anchor href=#merge-multiple-kubectl-configs-into-a-single-file>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Make a copy of your existing config</span>
$ cp ~/.kube/config ~/.kube/config.bak
<span style=color:#75715e># Merge the two config files together into a new config file</span>
$ KUBECONFIG<span style=color:#f92672>=</span>~/.kube/config:/path/to/new/config kubectl config view --flatten &gt; /tmp/config
<span style=color:#75715e># Replace your old config with the new merged config</span>
$ mv /tmp/config ~/.kube/config
<span style=color:#75715e># (optional) Delete the backup once you confirm everything worked ok</span>
$ rm ~/.kube/config.bak
</code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#common>Common</a><ul><li><a href=#generate-password>Generate password</a></li><li><a href=#generate-missed-pub-key-from-private>Generate missed pub key from private</a></li><li><a href=#create-a-large-file>Create a large file</a></li><li><a href=#date-and-time-transformations>Date and time transformations</a></li></ul></li><li><a href=#mysql>MySQL</a><ul><li><a href=#change-user-pass>Change user pass</a></li><li><a href=#granting-user-connections-from-remote-hosts>Granting User Connections From Remote Hosts:</a></li></ul></li><li><a href=#git>Git</a><ul><li><a href=#empty-commit>Empty commit</a></li><li><a href=#rename-local-branch>Rename local branch</a></li><li><a href=#copy-file-from-other-branch>Copy file from other branch</a></li></ul></li><li><a href=#tmux>Tmux</a></li><li><a href=#windows-cmd>Windows cmd</a><ul><li><a href=#wsl>WSL</a></li></ul></li><li><a href=#k8s>K8S</a><ul><li><a href=#merge-multiple-kubectl-configs-into-a-single-file>Merge multiple kubectl configs into a single file</a></li></ul></li></ul></nav></aside></main></body></html>